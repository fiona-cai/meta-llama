{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import logo from\"./logo.png\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const videoRef=useRef(null);const[photo,setPhoto]=useState(null);const[result,setResult]=useState(\"\");const[loading,setLoading]=useState(true);const startCamera=()=>{navigator.mediaDevices.getUserMedia({video:true}).then(stream=>{if(videoRef.current){videoRef.current.srcObject=stream;}}).catch(err=>console.error(\"Error accessing camera:\",err));};const takePicture=()=>{const video=videoRef.current;const canvas=document.createElement(\"canvas\");const context=canvas.getContext(\"2d\");if(video){canvas.width=video.videoWidth;canvas.height=video.videoHeight;context.drawImage(video,0,0,canvas.width,canvas.height);const photoData=canvas.toDataURL(\"image/png\");setPhoto(photoData);// Call backend function to determine the object (placeholder here)\nfetch(\"/api/detect\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({image:photoData})}).then(response=>response.json()).then(data=>setResult(data.result||\"Unknown object\")).catch(err=>console.error(\"Error:\",err));}};useEffect(()=>{// Simulate a 2-second loading screen\nconst timer=setTimeout(()=>{setLoading(false);startCamera();},2000);return()=>clearTimeout(timer);},[]);if(loading){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",height:\"100vh\",backgroundColor:\"#F7F4F2\"},children:[/*#__PURE__*/_jsx(\"img\",{src:logo// Replace with your image URL\n,alt:\"Loading\",style:{marginBottom:\"20px\"}}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"#37725F\",fontSize:96,marginLeft:60,marginRight:60},children:\"“See”\"})]});}return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"video\",{ref:videoRef,autoPlay:true,style:{width:\"100%\",maxWidth:\"500px\"},alt:\"Camera feed\"// Alt text for the camera feed\n}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:takePicture,children:\"Take a Picture\"}),photo&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your Picture:\"}),/*#__PURE__*/_jsx(\"img\",{src:photo,alt:\"Captured Photo\",style:{width:\"100%\",maxWidth:\"500px\"}}),/*#__PURE__*/_jsx(\"h3\",{children:\"Detected Object:\"}),/*#__PURE__*/_jsx(\"p\",{children:result||\"Processing...\"})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useRef","useState","logo","jsx","_jsx","jsxs","_jsxs","App","videoRef","photo","setPhoto","result","setResult","loading","setLoading","startCamera","navigator","mediaDevices","getUserMedia","video","then","stream","current","srcObject","catch","err","console","error","takePicture","canvas","document","createElement","context","getContext","width","videoWidth","height","videoHeight","drawImage","photoData","toDataURL","fetch","method","headers","body","JSON","stringify","image","response","json","data","timer","setTimeout","clearTimeout","style","display","flexDirection","justifyContent","alignItems","backgroundColor","children","src","alt","marginBottom","color","fontSize","marginLeft","marginRight","textAlign","ref","autoPlay","maxWidth","onClick"],"sources":["/Users/fionacai/meta-llama/my-app/src/App.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport logo from \"./logo.png\";\n\nfunction App() {\n  const videoRef = useRef(null);\n  const [photo, setPhoto] = useState(null);\n  const [result, setResult] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n\n  const startCamera = () => {\n    navigator.mediaDevices\n      .getUserMedia({ video: true })\n      .then((stream) => {\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n        }\n      })\n      .catch((err) => console.error(\"Error accessing camera:\", err));\n  };\n\n  const takePicture = () => {\n    const video = videoRef.current;\n    const canvas = document.createElement(\"canvas\");\n    const context = canvas.getContext(\"2d\");\n\n    if (video) {\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      context.drawImage(video, 0, 0, canvas.width, canvas.height);\n      const photoData = canvas.toDataURL(\"image/png\");\n      setPhoto(photoData);\n\n      // Call backend function to determine the object (placeholder here)\n      fetch(\"/api/detect\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ image: photoData }),\n      })\n        .then((response) => response.json())\n        .then((data) => setResult(data.result || \"Unknown object\"))\n        .catch((err) => console.error(\"Error:\", err));\n    }\n  };\n\n  useEffect(() => {\n    // Simulate a 2-second loading screen\n    const timer = setTimeout(() => {\n      setLoading(false);\n      startCamera();\n    }, 2000);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  if (loading) {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          height: \"100vh\",\n          backgroundColor: \"#F7F4F2\",\n        }}\n      >\n        <img\n          src={logo} // Replace with your image URL\n          alt=\"Loading\"\n          style={{ marginBottom: \"20px\" }}\n        />\n        <span\n          style={{\n            color: \"#37725F\",\n            fontSize: 96,\n            marginLeft: 60,\n            marginRight: 60,\n          }}\n        >\n          {\"“See”\"}\n        </span>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ textAlign: \"center\" }}>\n      <video\n        ref={videoRef}\n        autoPlay\n        style={{ width: \"100%\", maxWidth: \"500px\" }}\n        alt=\"Camera feed\" // Alt text for the camera feed\n      />\n      <br />\n      <button onClick={takePicture}>Take a Picture</button>\n      {photo && (\n        <div>\n          <h3>Your Picture:</h3>\n          <img\n            src={photo}\n            alt=\"Captured Photo\"\n            style={{ width: \"100%\", maxWidth: \"500px\" }}\n          />\n          <h3>Detected Object:</h3>\n          <p>{result || \"Processing...\"}</p>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}